/*! jquery-creditcard 2014-04-07 */
!function(a){"use strict";var b,c,d,e={},f="",g=0,h=[{type:"amex",regex:[/^3[47][0-9]+$/],lengths:[15]},{type:"visa",regex:[/^4[0-9]+/],lengths:[16]},{type:"mastercard",regex:[/^5[1-5][0-9]+$/],lengths:[16]}],i=function(){e.addClass(d.type),void 0!==b&&-1!==a.inArray(g,d.lengths)&&a.CreditCard.validateCard(f)&&b()},j=function(){e.removeClass(d.type),void 0!==c&&c()},k=function(){f=e.val(),g=f.length;var a;if(void 0!==d){for(var b=0;b<d.regex.length;b++)if(a=d.regex[b],a.test(f))return;j(),d=void 0}for(var c=[],k=h.length-1;k>=0;k--)for(var l=0;l<h[k].regex.length;l++){a=h[k].regex[l];var m=a.test(f);m&&c.push(h[k])}1===c.length&&(d=c[0],i())},l=function(d,f){var g=this;return e=a(this),b=d,c=f,e.addClass("credit-card"),g.on("keyup",k),g.validate=function(){return a.CreditCard.validateCard(g.val())},g};a.CreditCard||(a.CreditCard={}),a.CreditCard.validateCard=function(a){if(void 0===a||""===a)return!1;for(var b=a.replace(/-/g,""),c=0,d=0,e=0;e<b.length;e+=2)if(d=2*Number(b[e]),d>9)for(var f=d.toString(),g=0;g<f.length;g++)c+=Number(f.charAt(g));else c+=d;for(var h=1;h<b.length;h+=2)d=Number(b[h]),c+=d;return c%10===0},a.fn.CreditCard=function(){return l.apply(this,Array.prototype.slice.call(arguments,0))}}(jQuery);
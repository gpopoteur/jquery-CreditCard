/*! jquery-creditcard 2014-04-09 */
!function(a){"use strict";var b,c,d,e={},f="",g=0,h=[{type:"amex",regex:[/^3[47][0-9]+$/],lengths:[15]},{type:"visa",regex:[/^4[0-9]+/],lengths:[16]},{type:"mastercard",regex:[/^5[1-5][0-9]+$/],lengths:[16]}],i=function(){e.addClass(d.type),void 0!==b&&-1!==a.inArray(g,d.lengths)&&a.CreditCard.validateCard(f)&&b()},j=function(){e.removeClass(d.type)},k=function(){f=e.val(),g=f.length;var b;if(void 0!==d){for(var c=0;c<d.regex.length;c++)if(b=d.regex[c],b.test(f))return;j(),d=void 0}var h=[];h=a.CreditCard.getCardType(f),1===h.length&&(d=h[0],i())},l=function(d,f){var g=this;return e=a(this),b=d,c=f,e.addClass("credit-card"),g.on("keyup",k),g.validate=function(){return a.CreditCard.validateCard(g.val())},g};a.CreditCard||(a.CreditCard={}),a.CreditCard.getCardType=function(a){for(var b,c=[],d=h.length-1;d>=0;d--)for(var e=0;e<h[d].regex.length;e++){b=h[d].regex[e];var f=b.test(a);f&&c.push(h[d])}return c},a.CreditCard.validateCard=function(a){if(void 0===a||""===a)return!1;for(var b=a.replace(/-/g,""),c=0,d=0,e=0;e<b.length;e+=2)if(d=2*Number(b[e]),d>9)for(var f=d.toString(),g=0;g<f.length;g++)c+=Number(f.charAt(g));else c+=d;for(var h=1;h<b.length;h+=2)d=Number(b[h]),c+=d;return c%10===0},a.fn.CreditCard=function(){return l.apply(this,Array.prototype.slice.call(arguments,0))}}(jQuery);